(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{209:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),p=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},u=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,c=e.originalType,o=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=p(n),u=r,m=d["".concat(o,".").concat(u)]||d[u]||f[u]||c;return n?a.a.createElement(m,i(i({ref:t},l),{},{components:n})):a.a.createElement(m,i({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var c=n.length,o=new Array(c);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var l=2;l<c;l++)o[l]=n[l];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},75:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return p}));var r=n(3),a=n(7),c=(n(0),n(209)),o={id:"pmacct",title:"Pmacct",sidebar_label:"Pmacct"},i={unversionedId:"pipeline/pmacct",id:"pipeline/pmacct",isDocsHomePage:!1,title:"Pmacct",description:'The pmacct ("p-m-account") package includes sfacctd and nfacctd daemons which receive sflow and netflow/IPFIX flows, respectively. They can also do some processing and filtering, but we use these options very minimally. (Pmacct includes other daemons, as well, but we do not use them. Here, "pmacct" will refer to sfacctd and nfacctd in general.)',source:"@site/docs/pipeline/pmacct.md",slug:"/pipeline/pmacct",permalink:"/netsage-pipeline/docs/next/pipeline/pmacct",editUrl:"https://github.com/netsage-project/netsage-pipeline/edit/master/website/docs/pipeline/pmacct.md",version:"current",sidebar_label:"Pmacct",sidebar:"Pipeline",previous:{title:"Sflow/Netflow Data Export",permalink:"/netsage-pipeline/docs/next/pipeline/sensors"},next:{title:"Logstash Pipeline",permalink:"/netsage-pipeline/docs/next/pipeline/logstash"}},s=[{value:"Configuration",id:"configuration",children:[]}],l={toc:s};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,'The pmacct ("p-m-account") package includes sfacctd and nfacctd daemons which receive sflow and netflow/IPFIX flows, respectively. They can also do some processing and filtering, but we use these options very minimally. (Pmacct includes other daemons, as well, but we do not use them. Here, "pmacct" will refer to sfacctd and nfacctd in general.) '),Object(c.b)("p",null,"As flow data comes into the pipeline host, it is received by nfacctd and sfacctd processes which are listening on the proper ports (one process per port).\nThese proceses do sampling corrections, add sensor name information, and send the flows to a rabbitmq queue.\nNetsage also uses sfacctd to do some preliminary aggregation for sflow, to cut down on the work that logstash needs to do. By default, all samples, with the same 5-tuple, within each 5 minute window are aggregated into one incoming raw flow."),Object(c.b)("h3",{id:"configuration"},"Configuration"),Object(c.b)("p",null,"Each nfacctd and sfacctd process requires a main config file. In the bare-metal installation, these are in /etc/pmacct/. For the default docker deployment, they are in {pipeline checkout directory}/conf-pmacct/.  There are two basic versions - sfacctd.conf.ORIG and nfacctd.conf.ORIG. See comments within the files. Sensor-specific copies are created from these via a setup script."),Object(c.b)("p",null,"For Netsage, pretag.map files are also required to assign a sensor name, one file for each nfacctd or sfacctd process. With the docker deployment, these files are also created by a setup script. By default, these are found in the same directory as the main config files."))}p.isMDXComponent=!0}}]);